--------------------------------------------------------------------------------------------------------------------------------------------
--Query 1 

Update on ticket  (cost=8.86..16.88 rows=0 width=0) (actual time=0.143..0.143 rows=0 loops=1)
   InitPlan 1 (returns $0)
     ->  Index Only Scan using ticket_pkey on ticket ticket_1  (cost=0.42..8.44 rows=1 width=0) (actual time=0.032..0.032 rows=1 loops=1)
           Index Cond: (ticketnumber = 1234)
           Heap Fetches: 1
   ->  Result  (cost=0.42..8.44 rows=1 width=10) (actual time=0.043..0.045 rows=1 loops=1)
         One-Time Filter: $0
         ->  Index Scan using ticket_pkey on ticket  (cost=0.42..8.44 rows=1 width=6) (actual time=0.008..0.009 rows=1 loops=1)
               Index Cond: (ticketnumber = 1234)
 Planning Time: 0.344 ms
 Execution Time: 0.195 ms
(11 rows)


--------------------------------------------------------------------------------------------------------------------------------------------
--Query 2

Update on ticket  (cost=8.86..16.88 rows=0 width=0) (actual time=0.101..0.101 rows=0 loops=1)
   InitPlan 1 (returns $0)
     ->  Index Only Scan using ticket_pkey on ticket ticket_1  (cost=0.42..8.44 rows=1 width=0) (actual time=0.025..0.025 rows=1 loops=1)
           Index Cond: (ticketnumber = 1234)
           Heap Fetches: 1
   ->  Result  (cost=0.42..8.44 rows=1 width=10) (actual time=0.032..0.034 rows=1 loops=1)
         One-Time Filter: $0
         ->  Index Scan using ticket_pkey on ticket  (cost=0.42..8.44 rows=1 width=6) (actual time=0.005..0.006 rows=1 loops=1)
               Index Cond: (ticketnumber = 1234)
 Planning Time: 0.230 ms
 Execution Time: 0.131 ms
(11 rows)

 
------------------------------------------------------------------------------------------------------------------------------------------
--Query 3 

Aggregate  (cost=49.56..49.57 rows=1 width=8) (actual time=0.022..0.023 rows=1 loops=1)
   CTE deletedbookings
     ->  Delete on booking  (cost=4.39..49.29 rows=12 width=6) (actual time=0.014..0.014 rows=0 loops=1)
           ->  Bitmap Heap Scan on booking  (cost=4.39..49.29 rows=12 width=6) (actual time=0.013..0.013 rows=0 loops=1)                 Recheck Cond: (passengerid = 123)
                 ->  Bitmap Index Scan on idx_booking_passenger_status  (cost=0.00..4.38 rows=12 width=0) (actual time=0.012..0.012 rows=0 loops=1)
                       Index Cond: (passengerid = 123)
   ->  CTE Scan on deletedbookings  (cost=0.00..0.24 rows=12 width=0) (actual time=0.017..0.017 rows=0 loops=1)
 Planning Time: 3.401 ms
 Execution Time: 0.120 ms
(10 rows)

------------------------------------------------------------------------------------------------------------------------------------------
--Query 4 

GroupAggregate  (cost=4.38..49.35 rows=1 width=12) (actual time=0.010..0.011 rows=0 loops=1)
   ->  Bitmap Heap Scan on booking  (cost=4.38..49.34 rows=1 width=12) (actual time=0.009..0.010 rows=0 loops=1)
         Recheck Cond: (passengerid = 123)
         Filter: ((bookingdate >= '2023-01-01'::date) AND (bookingdate <= '2023-12-31'::date))
         ->  Bitmap Index Scan on idx_booking_passenger_status  (cost=0.00..4.38 rows=12 width=0) (actual time=0.006..0.006 rows=0 loops=1)
               Index Cond: (passengerid = 123)
 Planning Time: 0.438 ms
 Execution Time: 0.049 ms
(8 rows)

------------------------------------------------------------------------------------------------------------------------------------------